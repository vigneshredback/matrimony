{% extends "base/adminbase.html" %}
{% load static %}
{% block content %}
<div class="pan-rhs">
    <div class="row main-head">
      <div class="col-md-4">
        <div class="tit">
          <h1>Admin Dashboard</h1>
        </div>
      </div>
      <div class="col-md-8">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="#">Home</a>
            </li>
            <li class="breadcrumb-item">
              <a href="#">Library</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Data</li>
          </ol>
        </nav>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">

        <div class="box-com box-qui box-drk grn-box">
          <h4>New Users</h4>
          <h2>Pending profile approval</h2>
          <span class="bnum">{{newusers}}</span>
          <p>This is the number of new users waiting for admin approval</p>
          <a href="{% url 'adminnewuserrequests' %}" class="fclick"></a>
        </div>

        <div class="box-com box-qui box-lig box-new-user">
          <h2>Total Users</h2>
          <span class="bnum">{{totalusers}}</span>
          <div class="users-cir-thum-hori">
            <p>Total Registered Users</p>
          </div>
        </div>


        

      </div>
      <div class="col-md-6">
        <div class="box-com box-qui box-lig ali-cen">
          <h3>
            <span>All</span> Members
          </h3>
          <span class="bnum">{{totalusers}}</span>
          <canvas id="Chart_users"></canvas>
          <!-- <a href="admin-new-user-requests.php" class="fclick"></a> -->
        </div>
      </div>
      <div class="col-md-6">
        <div class="box-com box-qui box-lig ali-cen">
          <h3>
            <span>Total</span> Earnings
          </h3>
          <span class="bnum">
            <sub>₹</sub>10,069 </span>
          <canvas id="Chart_earni"></canvas>
        </div>
      </div>
      <div class="col-md-6">

        <div class="box-com box-qui live-box">
          <h4>Live visitos</h4>
          <h2>Currently Active Users</h2>
          <span class="bnum">3600</span>
          <p>Currently <span>3600</span> visitos survey in your website </p>
          <div class="live">
            <span class="move"></span>
          </div>
        </div>


        <div class="box-com box-qui box-drk box-lead-thum">
          <h2>Leads & Enquiry</h2>
          <span class="bnum">28</span>
          <div class="lead-cir-thum-hori">
            <span data-bs-toggle="tooltip" title="Anna">A</span>
            <span data-bs-toggle="tooltip" title="John">j</span>
            <span data-bs-toggle="tooltip" title="Bailey">b</span>
            <span data-bs-toggle="tooltip" title="Erick">e</span>
            <span data-bs-toggle="tooltip" title="Boby">b</span>
            <span data-bs-toggle="tooltip" title="Uma">u</span>
            <span data-bs-toggle="tooltip" title="Maria">m</span>
          </div>
          <a href="admin-enquiry.html" class="fclick"></a>
        </div>
      </div>
      <!-- <div class="col-md-6">
        <div class="box-com box-qui box-lig ali-cen">
          <h3>
            <span>Monthly</span> Earnings
          </h3>
          <span class="bnum">
            <sub>₹</sub>10,069 </span>
          <canvas id="Chart_earni_rece"></canvas>
        </div>
        <div class="box-com box-qui box-drk box-them-info">
          <h4>Template update status</h4>
          <ul>
            <li>Current version you installed: <strong>3.6</strong>
            </li>
            <li>Latest version: <strong>4.2</strong>
            </li>
            <li>Template Activation: <strong>Yes</strong>
            </li>
          </ul>
          <a href="#" class="btn-com btn-red">Update</a>
          <a href="#" class="btn-com btn-gre">Licance key</a>
          <a href="#" class="btn-com btn-line btn-whi">More details</a>
        </div>
      </div> -->
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="box-com box-qui box-lig box-tab">
          <div class="tit">
            <h3>Recent members</h3>
            <p>Recently joined members</p>
            <div class="dropdown">
              <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#">View all profile</a>
                </li>
              </ul>
            </div>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>No</th>
                <th>Profile</th>
                <th>Phone</th>
                <th>Join date</th>
                <th>Plan type</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/3.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Ashley emyy</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/4.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Elizabeth Taylor</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>3</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/11.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Angelina Jolie</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>4</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/6.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Olivia mia</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>5</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/7.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Jennifer</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>6</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/15.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Emmy jack</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>22, Feb 2024</td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-6">
        <div class="box-com box-qui box-lig box-tab">
          <div class="tit">
            <h3>Renewal Reminder</h3>
            <p>Below listed profils going to expairy soon.</p>
            <div class="dropdown">
              <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#">View all profile</a>
                </li>
              </ul>
            </div>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>No</th>
                <th>Profile</th>
                <th>Phone</th>
                <th>Expairy date</th>
                <th>Plan type</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/men3.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Ashley emyy</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/9.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Elizabeth Taylor</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>3</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/men1.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Angelina Jolie</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>4</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/men2.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Olivia mia</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>5</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/6.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Jennifer</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <tr>
                <td>6</td>
                <td>
                  <div class="prof-table-thum">
                    <div class="pro">
                      <img src="../images/profiles/7.jpg" alt="">
                    </div>
                    <div class="pro-info">
                      <h5>Emmy jack</h5>
                      <p>ashleyipsum@gmail.com</p>
                    </div>
                  </div>
                </td>
                <td>01 321-998-91</td>
                <td>
                  <span class="hig-red">22, Feb 2024</span>
                </td>
                <td>
                  <span class="hig-grn">Premium</span>
                </td>
                <td>
                  <div class="dropdown">
                    <button type="button" class="btn btn-outline-secondary" data-bs-toggle="dropdown">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="#">More details</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#">View profile</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <small id="totalusers" class="">{{totalusers}}</small>
  <small id="free_users" class="">{{free_users}}</small>
  <small id="premium_users" class="">{{premium_users}}</small>


  <script src="{% static 'js/jquery.min.js' %}"></script>
  <script src="{% static 'js/popper.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/select-opt.js' %}"></script>
  <script src="{% static 'admin/js/chart.js' %}"></script>
  <script src="{% static 'admin/js/admin-custom.js' %}"></script>
  <script src="{% static 'js/custom.js' %}"></script>
  <script>
    //ARNING CHART
    var earningCanvas = document.getElementById("Chart_earni");
    Chart.defaults.global.defaultFontSize = 14;
    var earningsData = {
      labels: ["Premium Plus", "Premium"],
      datasets: [{
        data: [50, 50],
        backgroundColor: ["#8463FF", "#6384FF"]
      }]
    };
    var pieChart = new Chart(earningCanvas, {
      type: 'pie',
      data: earningsData
    });
    //USER CHART
    var usersCanvas = document.getElementById("Chart_users");
    let free_users = Number(document.getElementById("free_users").innerHTML);
    let premium_users = Number(document.getElementById("premium_users").innerHTML);
    let totalusers = Number(document.getElementById("totalusers").innerHTML);
    // Calculate percentage for free users and premium users
    let free_users_percentage = (free_users / totalusers) 
    let premium_users_percentage = (premium_users / totalusers) 

    
    var usersData = {
      labels: [ "Premium", "Free"],
      datasets: [{
        data: [ premium_users_percentage, free_users_percentage],
        backgroundColor: ["#ffc107", "#6c757d"]
      }]
    };
    var pieChart = new Chart(usersCanvas, {
      type: 'pie',
      data: usersData
    });
    //USER CHART
    var ctx = document.getElementById("Chart_earni_rece").getContext('2d');
    var barChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
          label: 'data-1',
          data: [4000, 5000, 4550, 6005, 8550, 9008, 3220, 4880, 6550, 2500, 2500],
          backgroundColor: "rgba(255,99,132,0.2)",
          borderColor: "rgba(255,99,132,1)",
          borderWidth: 2,
          hoverBackgroundColor: "rgba(255,99,132,0.4)",
          hoverBorderColor: "rgba(255,99,132,1)",
        }]
      }
    });
  </script>
{% endblock content %}